---
import Section from "@/layouts/Section.astro";

import "@/styles/global.css";
import "@fontsource-variable/raleway";
import Layout from "@/layouts/Layout.astro";
import Footer from "@/components/Footer.astro";
import Header from "@/components/Header.astro";
import { getI18N } from "@/i18n";

const { currentLocale } = Astro;
const i18n = getI18N({ currentLocale });
const legalServices = i18n.SERVICIOS_LEGALES;
const SERVICIOS_LEGALES = legalServices.title.map((title, i) => ({
    title,
    description: legalServices.description[i],
}));
const faviconUrl = "/favicon.ico";
const faviconAltText = "asancus legal icon";
const faviconClass = "inline-block w-6 h-6 mr-2";
---

<Layout
    currentLocale="es"
    title={i18n.SEO_SERVICIOS_LEGALES_TITLE}
    description={i18n.SEO_SERVICIOS_LEGALES_DESCRIPTION}
    ogDescription={i18n.SEO_SERVICIOS_LEGALES_DESCRIPTION}
>
    <Header />
    <main>
        <Section>
            <div
                class={`grayscale-50 bg-[url('/assets/img/soluciones-asancus-legal.webp')] bg-cover bg-center h-72 lg:h-[500px]`}
            >
                <div class="max-w-screen-xl mx-auto">
                    <h2 class="px-4 text-2xl py-5 absolute bottom-0 text-white">
                        Legal Services
                    </h2>
                </div>
            </div>
            <div
                class="px-4 py-12 lg:py-8 max-w-screen-md mx-auto flex flex-col gap-12"
            >
                {
                    SERVICIOS_LEGALES.map(({ title, description }) => (
                        <article>
                            <div class="flex gap-2 items-center">
                                <img
                                    src={faviconUrl}
                                    alt={faviconAltText}
                                    class={faviconClass}
                                />
                                <h2 class="py-2 font-semibold uppercase">
                                    {title}
                                </h2>
                            </div>
                            {Array.isArray(description)
                                ? description.map(
                                      (paragraph) =>
                                          paragraph && (
                                              <p class="py-2">{paragraph}</p>
                                          ),
                                  )
                                : description && (
                                      <p class="py-2">{description}</p>
                                  )}
                        </article>
                    ))
                }
            </div>
        </Section>
    </main>
    <Footer />
</Layout>
